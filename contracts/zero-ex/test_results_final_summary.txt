

  BatchFillNativeOrdersFeature
    batchFillLimitOrders
      ‚úî Fully fills multiple orders (67ms)
      ‚úî Partially fills multiple orders (59ms)
      ‚úî Fills multiple orders and refunds excess ETH (58ms)
      ‚úî Skips over unfillable orders and refunds excess ETH (75ms)
      ‚úî Fills multiple orders with revertIfIncomplete=true (56ms)
      ‚úî If revertIfIncomplete==true, reverts on an unfillable order (69ms)
      ‚úî If revertIfIncomplete==true, reverts on an incomplete fill  (71ms)
    batchFillRfqOrders
      ‚úî Fully fills multiple orders (49ms)
      ‚úî Partially fills multiple orders (49ms)
      ‚úî Skips over unfillable orders (63ms)
      ‚úî Fills multiple orders with revertIfIncomplete=true (50ms)
      ‚úî If revertIfIncomplete==true, reverts on an unfillable order (55ms)
      ‚úî If revertIfIncomplete==true, reverts on an incomplete fill  (59ms)

  ERC1155OrdersFeature
    getERC1155OrderHash()
      ‚úî returns the correct hash for order with no fees or properties
      ‚úî returns the correct hash for order with null property
      ‚úî returns the correct hash for order with 1 fee, 1 property
      ‚úî returns the correct hash for order with 2 fees, 2 properties
    validateERC1155OrderSignature
      ‚úî succeeds for a valid EthSign signature
      ‚úî reverts for an invalid EthSign signature
      ‚úî succeeds for a valid EIP-712 signature
      ‚úî reverts for an invalid EIP-712 signature
    cancelERC1155Order
      ‚úî can cancel an order
      ‚úî cancelling an order twice silently succeeds
    sellERC1155
      ‚úî can fully fill a ERC1155 buy order
      ‚úî can partially fill a ERC1155 buy order
      ‚úî cannot fill the same order twice
      ‚úî cannot fill a cancelled order
      ‚úî cannot fill an invalid order (erc20Token == ETH)
      ‚úî cannot fill an expired order
      ‚úî reverts if a sell order is provided
      ‚úî reverts if the taker is not the taker address specified in the order
      ‚úî succeeds if the taker is the taker address specified in the order
      ‚úî reverts if an invalid signature is provided
      ‚úî reverts if `unwrapNativeToken` is true and `erc20Token` is not WETH
      ‚úî sends ETH to taker if `unwrapNativeToken` is true and `erc20Token` is WETH
      fees
        ‚úî single fee to EOA
        ‚úî partial fill, single fee
        ‚úî single fee, successful callback
        ‚úî single fee, callback reverts
        ‚úî single fee, callback returns invalid value
        ‚úî multiple fees to EOAs
      properties
        ‚úî Checks tokenId if no properties are provided
        ‚úî Null property
        ‚úî Reverts if property validation fails
        ‚úî Successful property validation
    onERC1155Received
      ‚úî throws if data is not encoded correctly
      ‚úî reverts if msg.sender != order.erc1155Token
      ‚úî reverts if transferred tokenId does not match order.erc1155TokenId
      ‚úî can sell ERC1155 without approval
    buyERC1155
      ‚úî can fill a ERC1155 sell order
      ‚úî can partially fill a ERC1155 sell order
      ‚úî cannot fill the same order twice
      ‚úî cannot fill a cancelled order
      ‚úî cannot fill an expired order
      ‚úî reverts if a buy order is provided
      ‚úî reverts if the taker is not the taker address specified in the order
      ‚úî succeeds if the taker is the taker address specified in the order
      ‚úî reverts if an invalid signature is provided
      ETH
        ‚úî can fill an order with ETH (and refunds excess ETH)
        ‚úî can fill a WETH order with ETH
        ‚úî uses WETH if not enough ETH to fill WETH order
      fees
        ‚úî single fee to EOA
        ‚úî partial fill, single fee
        ‚úî pays fees in ETH if erc20Token == ETH
        ‚úî pays fees in ETH if erc20Token == WETH but taker uses ETH
        ‚úî pays fees in WETH if taker uses WETH
        ‚úî reverts if overspent ETH
    batchBuyERC1155s
      ‚úî reverts if arrays are different lengths
      ‚úî successfully fills multiple orders
      ‚úî catches revert if one order fails
      ‚úî bubbles up revert if one order fails and `revertIfIncomplete == true`
      ‚úî can fill multiple orders with ETH, refund excess ETH
    preSignERC1155Order
      ‚úî can fill order that has been presigned by the maker
      ‚úî cannot fill order that has not been presigned by the maker
      ‚úî cannot fill order that was presigned then cancelled
      ‚úî only maker can presign order

  ERC721OrdersFeature
    getERC721OrderHash()
      ‚úî returns the correct hash for order with no fees or properties
      ‚úî returns the correct hash for order with null property
      ‚úî returns the correct hash for order with 1 fee, 1 property
      ‚úî returns the correct hash for order with 2 fees, 2 properties
    validateERC721OrderSignature
      ‚úî succeeds for a valid EthSign signature
      ‚úî reverts for an invalid EthSign signature
      ‚úî succeeds for a valid EIP-712 signature
      ‚úî reverts for an invalid EIP-712 signature
    cancelERC721Order
      ‚úî can cancel an order
      ‚úî cancelling an order twice silently succeeds
    sellERC721
      - can fill a ERC721 buy order
      - cannot fill the same order twice
      - can fill two orders from the same maker with different nonces
      - cannot fill a cancelled order
      - cannot fill an invalid order (erc20Token == ETH)
      - cannot fill an expired order
      - reverts if a sell order is provided
      - reverts if the taker is not the taker address specified in the order
      - succeeds if the taker is the taker address specified in the order
      - reverts if an invalid signature is provided
      - reverts if `unwrapNativeToken` is true and `erc20Token` is not WETH
      - sends ETH to taker if `unwrapNativeToken` is true and `erc20Token` is WETH
      fees
        - single fee to EOA
        - single fee, successful callback
        - single fee, callback reverts
        - single fee, callback returns invalid value
        - multiple fees to EOAs
      properties
        - Checks tokenId if no properties are provided
        - Null property
        - Reverts if property validation fails
        - Successful property validation
    onERC721Received
      ‚úî throws if data is not encoded correctly
      ‚úî reverts if msg.sender != order.erc721Token
      ‚úî reverts if transferred tokenId does not match order.erc721TokenId
      ‚úî can sell ERC721 without approval
    buyERC721
      ‚úî can fill a ERC721 sell order
      ‚úî cannot fill the same order twice
      ‚úî cannot fill a cancelled order
      ‚úî cannot fill an expired order
      ‚úî reverts if a buy order is provided
      ‚úî reverts if the taker is not the taker address specified in the order
      ‚úî succeeds if the taker is the taker address specified in the order
      ‚úî reverts if an invalid signature is provided
      ETH
        ‚úî can fill an order with ETH (and refunds excess ETH)
        ‚úî can fill a WETH order with ETH
        ‚úî uses WETH if not enough ETH to fill WETH order
      fees
        ‚úî single fee to EOA (buyERC721)
        ‚úî pays fees in ETH if erc20Token == ETH
        ‚úî pays fees in ETH if erc20Token == WETH but taker uses ETH
        ‚úî pays fees in WETH if taker uses WETH
        ‚úî reverts if overspent ETH
    batchBuyERC721s
      ‚úî reverts if arrays are different lengths
      ‚úî successfully fills multiple orders
      ‚úî catches revert if one order fails
      ‚úî bubbles up revert if one order fails and `revertIfIncomplete == true`
      ‚úî can fill multiple orders with ETH, refund excess ETH
    preSignERC721Order
      ‚úî can fill order that has been presigned by the maker
      ‚úî cannot fill order that has not been presigned by the maker
      ‚úî cannot fill order that was presigned then cancelled
    matchERC721Orders
      ‚úî cannot match two sell orders
      ‚úî cannot match two buy orders
      ‚úî erc721TokenId must match
      ‚úî erc721Token must match
      ‚úî erc20Token must match
      ‚úî reverts if spread is negative
      ‚úî matches two orders and sends profit to matcher
      ‚úî matches two ETH/WETH orders and sends profit to matcher
      ‚úî matches two orders (with fees) and sends profit to matcher
      ‚úî matches two ETH/WETH (with fees) orders and sends profit to matcher
      ‚úî reverts if sell order fees exceed spread
      ‚úî reverts if sell order fees exceed spread (ETH/WETH)

  FundRecovery
    Should delegatecall `transferTrappedTokensTo` from the exchange proxy
      ‚úî Tranfers an arbitrary ERC-20 Token
      ‚úî Amount -1 transfers entire balance of ERC-20
      ‚úî Amount -1 transfers entire balance of ETH
      ‚úî Transfers ETH 
      ‚úî Feature `transferTrappedTokensTo` can only be called by owner

  LiquidityProvider feature
    1) "before all" hook in "LiquidityProvider feature"

  MetaTransactions feature
üîÆ È¢ÑÊµãÁöÑ ZeroEx Âú∞ÂùÄ: 0xA9e6Bfa2BF53dE88FEb19761D9b2eE2e821bF1Bf
‚úÖ ÂÆûÈôÖÁöÑ ZeroEx Âú∞ÂùÄ: 0xA9e6Bfa2BF53dE88FEb19761D9b2eE2e821bF1Bf
üéØ Âú∞ÂùÄÈ¢ÑÊµã ÊàêÂäü
    getMetaTransactionHash()
      ‚úî generates the correct hash
    executeMetaTransaction()
      2) can call NativeOrders.fillLimitOrder()
      3) can call NativeOrders.fillRfqOrder()
      4) can call `TransformERC20.transformERC20()`
      5) can call `TransformERC20.transformERC20()` with calldata
      6) can call with any sender if `sender == 0`
      7) works without fee
      ‚úî fails if the translated call fails
      8) fails with unsupported function
      9) cannot execute the same mtx twice
      10) fails if not enough ETH provided
      - fails if gas price too low
      - fails if gas price too high
      ‚úî fails if expired
      ‚úî fails if wrong sender
      11) fails if signature is wrong
      12) cannot reenter `executeMetaTransaction()`
      13) cannot reenter `batchExecuteMetaTransactions()`
      14) cannot reduce initial ETH balance
    batchExecuteMetaTransactions()
      15) can execute multiple transactions
      16) cannot execute the same transaction twice
      17) fails if a meta-transaction fails
      18) cannot reenter `executeMetaTransaction()`
      19) cannot reenter `batchExecuteMetaTransactions()`
      20) cannot reduce initial ETH balance
    getMetaTransactionExecutedBlock()
      ‚úî returns zero for an unexecuted mtx
      21) returns the block it was executed in
    getMetaTransactionHashExecutedBlock()
      ‚úî returns zero for an unexecuted mtx
      22) returns the block it was executed in

  MultiplexFeature
    batch sells
      multiplexBatchSellTokenForToken
        23) reverts if minBuyAmount is not satisfied
        24) reverts if given an invalid subcall type
        25) reverts if the full sell amount is not sold
        26) RFQ, fallback(UniswapV2)
        27) OTC, fallback(UniswapV2)
        28) expired RFQ, fallback(UniswapV2)
        29) expired OTC, fallback(UniswapV2)
        30) expired RFQ, fallback(TransformERC20)
        31) LiquidityProvider, UniV3, Sushiswap
        32) proportional fill amounts
        33) RFQ, MultiHop(UniV3, UniV2)
      multiplexBatchSellEthForToken
        34) RFQ
        35) OTC
        36) UniswapV2
        37) UniswapV3
        38) LiquidityProvider
        39) TransformERC20
        40) RFQ, MultiHop(UniV3, UniV2)
      multiplexBatchSellTokenForEth
        41) RFQ
        42) OTC
        43) UniswapV2
        44) UniswapV3
        45) LiquidityProvider
        46) TransformERC20
        47) RFQ, MultiHop(UniV3, UniV2)
    multihop sells
      multiplexMultiHopSellTokenForToken
        48) reverts if given an invalid subcall type
        49) reverts if minBuyAmount is not satisfied
        50) reverts if array lengths are mismatched
        51) UniswapV2 -> LiquidityProvider
        52) LiquidityProvider -> Sushiswap
        53) UniswapV3 -> BatchSell(RFQ, UniswapV2)
        54) BatchSell(RFQ, UniswapV2) -> UniswapV3
      multiplexMultiHopSellEthForToken
        55) reverts if first token is not WETH
        56) UniswapV2 -> LiquidityProvider
        57) LiquidityProvider -> Sushiswap
        58) UniswapV3 -> BatchSell(RFQ, UniswapV2)
        59) BatchSell(RFQ, UniswapV2) -> UniswapV3
      multiplexMultiHopSellTokenForEth
        60) reverts if last token is not WETH
        61) UniswapV2 -> LiquidityProvider
        62) LiquidityProvider -> Sushiswap
        63) UniswapV3 -> BatchSell(RFQ, UniswapV2)
        64) BatchSell(RFQ, UniswapV2) -> UniswapV3

  NativeOrdersFeature
    getProtocolFeeMultiplier()
      ‚úî returns the protocol fee multiplier
    getLimitOrderHash()
      ‚úî returns the correct hash
    getRfqOrderHash()
      ‚úî returns the correct hash
    getLimitOrderInfo()
      ‚úî unfilled order
      ‚úî unfilled cancelled order
      ‚úî unfilled expired order
      ‚úî filled then expired order
      ‚úî filled order
      ‚úî partially filled order
      ‚úî filled then cancelled order
      ‚úî partially filled then cancelled order
    getRfqOrderInfo()
      ‚úî unfilled order
      ‚úî unfilled cancelled order
      ‚úî unfilled expired order
      ‚úî filled then expired order
      ‚úî filled order
      ‚úî partially filled order
      ‚úî filled then cancelled order
      ‚úî partially filled then cancelled order
      ‚úî invalid origin
    cancelLimitOrder()
      ‚úî can cancel an unfilled order
      ‚úî can cancel a fully filled order
      ‚úî can cancel a partially filled order
      ‚úî can cancel an expired order
      ‚úî can cancel a cancelled order
      ‚úî cannot cancel someone else's order
    cancelRfqOrder()
      ‚úî can cancel an unfilled order
      ‚úî can cancel a fully filled order
      ‚úî can cancel a partially filled order
      ‚úî can cancel an expired order
      ‚úî can cancel a cancelled order
      ‚úî cannot cancel someone else's order
    batchCancelLimitOrders()
      ‚úî can cancel multiple orders (53ms)
      ‚úî cannot cancel someone else's orders (48ms)
    batchCancelRfqOrders()
      ‚úî can cancel multiple orders (44ms)
      ‚úî cannot cancel someone else's orders (42ms)
    cancelPairOrders()
      ‚úî can cancel multiple limit orders of the same pair with salt < minValidSalt (48ms)
      ‚úî does not cancel limit orders of a different pair
      ‚úî can cancel multiple RFQ orders of the same pair with salt < minValidSalt
      ‚úî does not cancel RFQ orders of a different pair
    batchCancelPairOrders()
      ‚úî can cancel multiple limit order pairs
      ‚úî can cancel multiple RFQ order pairs
    fillLimitOrder()
      ‚úî can fully fill an order
      ‚úî can partially fill an order
      ‚úî can fully fill an order in two steps
      ‚úî clamps fill amount to remaining available
      ‚úî clamps fill amount to remaining available in partial filled order
      ‚úî cannot fill an expired order
      ‚úî cannot fill a cancelled order
      ‚úî cannot fill a salt/pair cancelled order
      ‚úî non-taker cannot fill order
      ‚úî non-sender cannot fill order
      ‚úî cannot fill order with bad signature
      ‚úî fails if no protocol fee attached
      ‚úî refunds excess protocol fee
    registerAllowedRfqOrigins()
      ‚úî cannot register through a contract
    fillRfqOrder()
      ‚úî can fully fill an order
      ‚úî can partially fill an order
      ‚úî can fully fill an order in two steps
      ‚úî clamps fill amount to remaining available
      ‚úî clamps fill amount to remaining available in partial filled order
      ‚úî cannot fill an order with wrong tx.origin
      ‚úî can fill an order from a different tx.origin if registered
      ‚úî cannot fill an order with registered then unregistered tx.origin
      ‚úî cannot fill an order with a zero tx.origin
      ‚úî non-taker cannot fill order
      ‚úî cannot fill an expired order
      ‚úî cannot fill a cancelled order
      ‚úî cannot fill a salt/pair cancelled order
      ‚úî cannot fill order with bad signature
      ‚úî fails if ETH is attached
    fillOrKillLimitOrder()
      ‚úî can fully fill an order
      ‚úî reverts if cannot fill the exact amount
      ‚úî refunds excess protocol fee
    fillOrKillRfqOrder()
      ‚úî can fully fill an order
      ‚úî reverts if cannot fill the exact amount
      ‚úî fails if ETH is attached
    getLimitOrderRelevantState()
      ‚úî works with an empty order
      ‚úî works with cancelled order
      ‚úî works with a bad signature
      ‚úî works with an unfilled order
      ‚úî works with a fully filled order
      ‚úî works with an under-funded, partially-filled order
    getRfqOrderRelevantState()
      ‚úî works with an empty order
      ‚úî works with cancelled order
      ‚úî works with a bad signature
      ‚úî works with an unfilled order
      ‚úî works with a fully filled order
      ‚úî works with an under-funded, partially-filled order
    batchGetLimitOrderRelevantStates()
      ‚úî works with multiple orders (53ms)
      ‚úî swallows reverts (53ms)
    batchGetRfqOrderRelevantStates()
      ‚úî works with multiple orders (43ms)
    registerAllowedSigner()
      ‚úî fires appropriate events
      ‚úî allows for fills on orders signed by a approved signer
      ‚úî disallows fills if the signer is revoked
      ‚úî doesn't allow fills with an unapproved signer
      ‚úî allows an approved signer to cancel an RFQ order
      ‚úî allows an approved signer to cancel a limit order
      ‚úî doesn't allow an unapproved signer to cancel an RFQ order
      ‚úî doesn't allow an unapproved signer to cancel a limit order
      ‚úî allows a signer to cancel pair RFQ orders
      ‚úî doesn't allow an unapproved signer to cancel pair RFQ orders
      ‚úî allows a signer to cancel pair limit orders
      ‚úî doesn't allow an unapproved signer to cancel pair limit orders
      ‚úî allows a signer to cancel multiple RFQ order pairs
      ‚úî doesn't allow an unapproved signer to batch cancel pair rfq orders
      ‚úî allows a signer to cancel multiple limit order pairs
      ‚úî doesn't allow an unapproved signer to batch cancel pair limit orders

  OtcOrdersFeature
    getOtcOrderHash()
      ‚úî returns the correct hash
    lastOtcTxOriginNonce()
      65) returns 0 if bucket is unused
      66) returns the last nonce used in a bucket
    getOtcOrderInfo()
      67) unfilled order
      68) unfilled expired order
      69) filled then expired order
      70) filled order
    fillOtcOrder()
      71) can fully fill an order
      72) can partially fill an order
      73) clamps fill amount to remaining available
      74) cannot fill an order with wrong tx.origin
      75) cannot fill an order with wrong taker
      76) can fill an order from a different tx.origin if registered
      77) cannot fill an order with registered then unregistered tx.origin
      78) cannot fill an order with a zero tx.origin
      79) cannot fill an expired order
      80) cannot fill order with bad signature
      81) fails if ETH is attached
      82) cannot fill the same order¬†twice
      83) cannot fill two orders with the same nonceBucket and nonce
      84) cannot fill an order whose nonce is less than the nonce last used in that bucket
      85) can fill two orders that use the same nonce bucket and increasing nonces
      86) can fill two orders that use the same nonce but different nonce buckets
      87) can fill a WETH buy order and receive ETH
      88) reverts if `unwrapWeth` is true but maker token is not WETH
      89) allows for fills on orders signed by a approved signer
      90) disallows fills if the signer is revoked
      91) doesn't allow fills with an unapproved signer
    fillOtcOrderWithEth()
      92) Can fill an order with ETH (takerToken=WETH)
      93) Can fill an order with ETH (takerToken=ETH)
      94) Can partially fill an order with ETH (takerToken=WETH)
      95) Can partially fill an order with ETH (takerToken=ETH)
      96) Can refund excess ETH is msg.value > order.takerAmount (takerToken=WETH)
      97) Can refund excess ETH is msg.value > order.takerAmount (takerToken=ETH)
      98) Cannot fill an order if taker token is not ETH or WETH
    fillTakerSignedOtcOrder()
      99) can fully fill an order
      100) cannot fill an order with wrong tx.origin
      101) can fill an order from a different tx.origin if registered
      102) cannot fill an order with registered then unregistered tx.origin
      103) cannot fill an order with a zero tx.origin
      104) cannot fill an expired order
      105) cannot fill an order with bad taker signature
      106) cannot fill order with bad maker signature
      107) fails if ETH is attached
      108) cannot fill the same order¬†twice
      109) cannot fill two orders with the same nonceBucket and nonce
      110) cannot fill an order whose nonce is less than the nonce last used in that bucket
      111) can fill two orders that use the same nonce bucket and increasing nonces
      112) can fill two orders that use the same nonce but different nonce buckets
      113) can fill a WETH buy order and receive ETH
      114) reverts if `unwrapWeth` is true but maker token is not WETH
    batchFillTakerSignedOtcOrders()
      115) Fills multiple orders
      116) Fills multiple orders and unwraps WETH
      117) Skips over unfillable orders

  Ownable feature
    transferOwnership()
      ‚úî non-owner cannot transfer ownership
      ‚úî owner can transfer ownership
    migrate()
      ‚úî non-owner cannot call migrate()
      ‚úî can successfully execute a migration
      ‚úî failing migration reverts
      ‚úî reverting migration reverts

  Selector collision test
    - Function selectors do not collide

  SimpleFunctionRegistry feature
    ‚úî `extend()` cannot be called by a non-owner
    ‚úî `rollback()` cannot be called by a non-owner
    118) `rollback()` to non-zero impl reverts for unregistered function
    ‚úî `rollback()` to zero impl succeeds for unregistered function
    119) owner can add a new function with `extend()`
    120) owner can replace add a function with `extend()`
    121) owner can zero a function with `extend()`
    ‚úî can query rollback history
    122) owner can rollback a function to zero
    123) owner can rollback a function to the prior version
    124) owner can rollback a zero function to the prior version
    125) owner can rollback a function to a much older version
    126) owner cannot rollback a function to a version not in history

  TransformERC20 feature
    wallets
      127) createTransformWallet() replaces the current wallet
      ‚úî createTransformWallet() cannot be called by non-owner
    transformer deployer
      ‚úî `getTransformerDeployer()` returns the transformer deployer
      128) owner can set the transformer deployer with `setTransformerDeployer()`
      129) non-owner cannot set the transformer deployer with `setTransformerDeployer()`
    quote signer
      130) `getQuoteSigner()` returns the quote signer
      131) owner can set the quote signer with `setQuoteSigner()`
      132) non-owner cannot set the quote signer with `setQuoteSigner()`
    _transformERC20()/transformERC20()
      _transformERC20()
        133) succeeds if taker's output token balance increases by exactly minOutputTokenAmount
        134) succeeds if taker's output token balance increases by exactly minOutputTokenAmount, with ETH
        135) succeeds if taker's output token balance increases by more than minOutputTokenAmount
        136) throws if taker's output token balance increases by less than minOutputTokenAmount
        137) throws if taker's output token balance decreases
        138) can call multiple transformers
        139) fails with invalid transformer nonce
        140) can sell entire taker balance
        141) can sell entire taker balance with ETH (but not really)

  UniswapV3Feature
    sellTokenForTokenToUniswapV3()
      ‚úî 1-hop swap
      ‚úî 2-hop swap
      ‚úî 1-hop underbuy fails
      ‚úî 2-hop underbuy fails
      ‚úî null recipient is sender
    sellEthForTokenToUniswapV3()
      ‚úî 1-hop swap
      ‚úî null recipient is sender
    sellTokenForEthToUniswapV3()
      ‚úî 1-hop swap
      ‚úî null recipient is sender
      ‚úî fails if receipient cannot receive ETH

  FixinTokenSpender
    transferERC20TokensFrom()
      ‚úî transferERC20TokensFrom() successfully calls compliant ERC20 token
      ‚úî transferERC20TokensFrom() successfully calls non-compliant ERC20 token
      ‚úî transferERC20TokensFrom() reverts if ERC20 token reverts
      ‚úî transferERC20TokensFrom() reverts if ERC20 token returns false
      ‚úî transferERC20TokensFrom() allows extra data after true
      ‚úî transferERC20TokensFrom() reverts when there's extra data after false
      ‚úî transferERC20TokensFrom() cannot call self
    getSpendableERC20BalanceOf()
      ‚úî returns the minimum of the owner's balance and allowance

  Full migration
    ‚úî ZeroEx has the correct owner
    ‚úî FullMigration contract self-destructs
    ‚úî Non-deployer cannot call migrateZeroEx()
    TransformERC20 feature
      ‚úî _transformERC20 is registered
      ‚úî _transformERC20 cannot be called from outside
      ‚úî createTransformWallet is registered
      ‚úî getTransformWallet is registered
      ‚úî setTransformerDeployer is registered
      ‚úî getQuoteSigner is registered
      ‚úî setQuoteSigner is registered
    MetaTransactions feature
      ‚úî executeMetaTransaction is registered
      ‚úî batchExecuteMetaTransactions is registered
      ‚úî getMetaTransactionExecutedBlock is registered
      ‚úî getMetaTransactionHashExecutedBlock is registered
      ‚úî getMetaTransactionHash is registered
    NativeOrdersFeature feature
      ‚úî transferProtocolFeesForPools is registered
      ‚úî fillLimitOrder is registered
      ‚úî fillRfqOrder is registered
      ‚úî fillOrKillLimitOrder is registered
      ‚úî fillOrKillRfqOrder is registered
      ‚úî _fillLimitOrder is registered
      ‚úî _fillLimitOrder cannot be called from outside
      ‚úî _fillRfqOrder is registered
      ‚úî _fillRfqOrder cannot be called from outside
      ‚úî cancelLimitOrder is registered
      ‚úî cancelRfqOrder is registered
      ‚úî batchCancelLimitOrders is registered
      ‚úî batchCancelRfqOrders is registered
      ‚úî cancelPairLimitOrders is registered
      ‚úî batchCancelPairLimitOrders is registered
      ‚úî cancelPairRfqOrders is registered
      ‚úî batchCancelPairRfqOrders is registered
      ‚úî getLimitOrderInfo is registered
      ‚úî getRfqOrderInfo is registered
      ‚úî getLimitOrderHash is registered
      ‚úî getRfqOrderHash is registered
      ‚úî getProtocolFeeMultiplier is registered
      ‚úî registerAllowedRfqOrigins is registered
      ‚úî getLimitOrderRelevantState is registered
      ‚úî getRfqOrderRelevantState is registered
      ‚úî batchGetLimitOrderRelevantStates is registered
      ‚úî batchGetRfqOrderRelevantStates is registered
    TransformERC20
      ‚úî has the correct transformer deployer

  Initial migration
    ‚úî Self-destructs after deployment
    ‚úî Non-deployer cannot call initializeZeroEx()
    ‚úî External contract cannot call die()
    bootstrapping
      ‚úî Migrator cannot call bootstrap() again
      ‚úî Bootstrap feature self destructs after deployment
    Ownable feature
      142) "before all" hook for "has the correct owner"
    SimpleFunctionRegistry feature
      143) "before all" hook for "_extendSelf() is deregistered"

  LibLimitOrder tests
    getLimitOrderStructHash()
      ‚úî returns the correct hash
    getRfqOrderStructHash()
      ‚úî returns the correct hash

  LibSignature library
    getSignerOfHash()
      ‚úî can recover the signer of an EIP712 signature
      ‚úî can recover the signer of an EthSign signature
      ‚úî throws if the signature type is out of range
      ‚úî throws if the signature data is malformed
      ‚úî throws if an EC value is out of range
      ‚úî throws if the type is Illegal
      ‚úî throws if the type is Invalid

  CurveLiquidityProvider feature
    ‚úî can swap ERC20->ERC20
    ‚úî can swap ERC20->ETH
    ‚úî can swap ETH->ERC20
    ‚úî can swap ETH->ERC20 with attached ETH
    ‚úî can swap with a pool that returns bought amount
    ‚úî reverts if pool reverts
    ‚úî reverts if underbought
    ‚úî reverts if ERC20->ERC20 receives an ETH input token
    ‚úî reverts if ERC20->ERC20 receives an ETH output token
    ‚úî reverts if ERC20->ETH receives an ETH input token
    ‚úî reverts if ETH->ERC20 receives an ETH output token
    ‚úî emits a LiquidityProviderFill event

  MooniswapLiquidityProvider feature
    ‚úî can swap ERC20->ERC20
    ‚úî can swap ERC20->ETH
    ‚úî can swap ETH->ERC20
    ‚úî can swap ETH->ERC20 with attached ETH
    ‚úî can swap ERC20->WETH
    ‚úî can swap WETH->ERC20
    ‚úî reverts if pool reverts
    ‚úî reverts if ERC20->ERC20 is the same token
    ‚úî reverts if ERC20->ERC20 receives an ETH input token
    ‚úî reverts if ERC20->ERC20 receives an ETH output token
    ‚úî reverts if ERC20->ETH receives an ETH input token
    ‚úî reverts if ETH->ERC20 receives an ETH output token
    ‚úî emits a LiquidityProviderFill event

  PermissionlessTransformerDeployer
    deploy()
      ‚úî can deploy safe contract
      ‚úî deploys at predictable address
      ‚úî cannot deploy suicidal contract
      ‚úî can deploy safe contract with value
      ‚úî reverts if constructor throws
      ‚úî can retrieve deployment salt from contract address
      ‚úî can retrieve deployment init code hash from contract address

  ProtocolFees
    FeeCollector
      ‚úî should disallow unauthorized initialization
    _collectProtocolFee()
      ‚úî should revert if insufficient ETH transferred
      ‚úî should accept ETH fee
      ‚úî should accept ETH after first transfer
      ‚úî should attribute fees correctly

  Storage ID uniqueness test
    ‚úî all StorageId references are unique in storage libraries

  TransformerDeployer
    deploy()
      ‚úî non-authority cannot call
      ‚úî authority can deploy
      ‚úî authority can deploy with value
      ‚úî reverts if constructor throws
      ‚úî updates nonce
      ‚úî nonce can predict deployment address
      ‚úî can retrieve deployment nonce from contract address
    kill()
      ‚úî non-authority cannot call
      ‚úî authority can kill a contract

  FillQuoteTransformer
    sell quotes
      ‚úî can fully sell to a single bridge order with -1 fillAmount
      ‚úî can partially sell to a single bridge order with a fractional fillAmount
      ‚úî fails if incomplete sell
      ‚úî can fully sell to a single bridge order
      ‚úî can fully sell to a single limit order
      ‚úî can partial sell to a single limit order
      ‚úî can fully sell to a single limit order without fees
      ‚úî can partial sell to a single limit order without fees
      ‚úî can fully sell to a single RFQ order
      ‚úî can partially sell to a single RFQ order
      ‚úî can fully sell to one of each order type
      ‚úî can partially sell to one of each order type
      ‚úî can fully sell to multiple of each order type (79ms)
      ‚úî can recover from a failed order
      ‚úî can recover from a slipped order
      ‚úî skips limit orders when not enough protocol fee balance
    buy quotes
      ‚úî fails if incomplete buy
      ‚úî can fully buy to a single bridge order
      ‚úî can fully buy to a single limit order
      ‚úî can partial buy to a single limit order
      ‚úî can fully buy to a single limit order without fees
      ‚úî can partial buy to a single limit order without fees
      ‚úî can fully buy to a single RFQ order
      ‚úî can partially buy to a single RFQ order
      ‚úî can fully buy to one of each order type
      ‚úî can recover from a failed order
      ‚úî can recover from a slipped order

  PayTakerTransformer
    ‚úî can transfer a token and ETH
    ‚úî can transfer all of a token and ETH
    ‚úî can transfer all of a token and ETH (empty amounts)
    ‚úî can transfer less than the balance of a token and ETH

  Transformer (base)
    die()
      ‚úî cannot be called by non-deployer
      ‚úî cannot be called outside of its own context
      ‚úî destroys the transformer

  WethTransformer
    ‚úî fails if the token is neither ETH or WETH
    ‚úî can unwrap WETH
    ‚úî can unwrap all WETH
    ‚úî can unwrap some WETH
    ‚úî can wrap ETH
    ‚úî can wrap all ETH
    ‚úî can wrap some ETH


  421 passing (8s)
  24 pending
  143 failing

  1) LiquidityProvider feature
       "before all" hook in "LiquidityProvider feature":
     TypeError: wrappers_1.TestLiquidityProvider__factory is not a constructor
      at Context.<anonymous> (test/features/liquidity_provider_test.ts:80:42)

  2) MetaTransactions feature
       executeMetaTransaction()
         can call NativeOrders.fillLimitOrder():
     Error: VM Exception while processing transaction: reverted with an unrecognized custom error (return data: 0xbea726ef5849cfc4ef9f4f0f02ff0655eb627fa02014a593a58fcc3359f14b2ee08ad9f30000000000000000000000000000000000000000000000000000000068b7bff40000000000000000000000000000000000000000000000000000000068b7be05)
    at MetaTransactionsFeature.rrevert (@0x/contracts-utils/contracts/src/errors/LibRichErrors.sol:39)
    at MetaTransactionsFeature.nonReentrant (contracts/src/fixins/FixinReentrancyGuard.sol:38)
    at MetaTransactionsFeature._executeMetaTransactionPrivate (contracts/src/features/MetaTransactionsFeature.sol:227)
    at MetaTransactionsFeature.executeMetaTransaction (contracts/src/features/MetaTransactionsFeature.sol:146)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:47)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:49)
    at EdrProviderWrapper.request (/Users/king/javascript/protocol/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:359:41)
    at async HardhatEthersSigner.sendTransaction (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-ethers/src/signers.ts:181:18)
    at async send (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:313:20)
    at async Proxy.executeMetaTransaction (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:352:16)
    at async Context.<anonymous> (test/features/meta_transactions_test.ts:304:24)
  

  3) MetaTransactions feature
       executeMetaTransaction()
         can call NativeOrders.fillRfqOrder():
     Error: VM Exception while processing transaction: reverted with an unrecognized custom error (return data: 0xbea726ef3ea72ef285342501e72cd2a88e62371331cfb5b737bbf5a329aac5c9c4d663810000000000000000000000000000000000000000000000000000000068b7bff40000000000000000000000000000000000000000000000000000000068b7be05)
    at MetaTransactionsFeature.rrevert (@0x/contracts-utils/contracts/src/errors/LibRichErrors.sol:39)
    at MetaTransactionsFeature.nonReentrant (contracts/src/fixins/FixinReentrancyGuard.sol:38)
    at MetaTransactionsFeature._executeMetaTransactionPrivate (contracts/src/features/MetaTransactionsFeature.sol:227)
    at MetaTransactionsFeature.executeMetaTransaction (contracts/src/features/MetaTransactionsFeature.sol:146)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:47)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:49)
    at EdrProviderWrapper.request (/Users/king/javascript/protocol/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:359:41)
    at async HardhatEthersSigner.sendTransaction (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-ethers/src/signers.ts:181:18)
    at async send (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:313:20)
    at async Proxy.executeMetaTransaction (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:352:16)
    at async Context.<anonymous> (test/features/meta_transactions_test.ts:332:24)
  

  4) MetaTransactions feature
       executeMetaTransaction()
         can call `TransformERC20.transformERC20()`:
     Error: VM Exception while processing transaction: reverted with an unrecognized custom error (return data: 0xbea726ef1d78a6a349c87669adb0b3c7aebed50d7a6fd389e9747ac7fa682f471f57c4730000000000000000000000000000000000000000000000000000000068b7bff40000000000000000000000000000000000000000000000000000000068b7be05)
    at MetaTransactionsFeature.rrevert (@0x/contracts-utils/contracts/src/errors/LibRichErrors.sol:39)
    at MetaTransactionsFeature.nonReentrant (contracts/src/fixins/FixinReentrancyGuard.sol:38)
    at MetaTransactionsFeature._executeMetaTransactionPrivate (contracts/src/features/MetaTransactionsFeature.sol:227)
    at MetaTransactionsFeature.executeMetaTransaction (contracts/src/features/MetaTransactionsFeature.sol:146)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:47)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:49)
    at EdrProviderWrapper.request (/Users/king/javascript/protocol/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:359:41)
    at async HardhatEthersSigner.sendTransaction (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-ethers/src/signers.ts:181:18)
    at async send (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:313:20)
    at async Proxy.executeMetaTransaction (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:352:16)
    at async Context.<anonymous> (test/features/meta_transactions_test.ts:363:24)
  

  5) MetaTransactions feature
       executeMetaTransaction()
         can call `TransformERC20.transformERC20()` with calldata:
     Error: VM Exception while processing transaction: reverted with an unrecognized custom error (return data: 0xbea726ef76b4dfca4c5eff43b7e216664304186574229282ce02e12bb022a6ff3ea8970e0000000000000000000000000000000000000000000000000000000068b7bff40000000000000000000000000000000000000000000000000000000068b7be05)
    at MetaTransactionsFeature.rrevert (@0x/contracts-utils/contracts/src/errors/LibRichErrors.sol:39)
    at MetaTransactionsFeature.nonReentrant (contracts/src/fixins/FixinReentrancyGuard.sol:38)
    at MetaTransactionsFeature._executeMetaTransactionPrivate (contracts/src/features/MetaTransactionsFeature.sol:227)
    at MetaTransactionsFeature.executeMetaTransaction (contracts/src/features/MetaTransactionsFeature.sol:146)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:47)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:49)
    at EdrProviderWrapper.request (/Users/king/javascript/protocol/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:359:41)
    at async HardhatEthersSigner.sendTransaction (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-ethers/src/signers.ts:181:18)
    at async send (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:313:20)
    at async Proxy.executeMetaTransaction (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:352:16)
    at async Context.<anonymous> (test/features/meta_transactions_test.ts:400:24)
  

  6) MetaTransactions feature
       executeMetaTransaction()
         can call with any sender if `sender == 0`:
     Error: VM Exception while processing transaction: reverted with an unrecognized custom error (return data: 0xbea726efea0b61be073dec2c25fa7589cff421f8d71e856665a01de7cd17818744c94ec30000000000000000000000000000000000000000000000000000000068b7bff30000000000000000000000000000000000000000000000000000000068b7be05)
    at MetaTransactionsFeature.rrevert (@0x/contracts-utils/contracts/src/errors/LibRichErrors.sol:39)
    at MetaTransactionsFeature.nonReentrant (contracts/src/fixins/FixinReentrancyGuard.sol:38)
    at MetaTransactionsFeature._executeMetaTransactionPrivate (contracts/src/features/MetaTransactionsFeature.sol:227)
    at MetaTransactionsFeature.executeMetaTransaction (contracts/src/features/MetaTransactionsFeature.sol:146)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:47)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:49)
    at EdrProviderWrapper.request (/Users/king/javascript/protocol/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:359:41)
    at async staticCallResult (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:337:22)
    at async executeMetaTransaction.staticCall (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:303:24)
    at async Context.<anonymous> (test/features/meta_transactions_test.ts:437:31)
  

  7) MetaTransactions feature
       executeMetaTransaction()
         works without fee:
     Error: VM Exception while processing transaction: reverted with an unrecognized custom error (return data: 0xbea726ef9978e037dbf92e6f685639833d24a99c8c663456159daf39f585488e80afec3a0000000000000000000000000000000000000000000000000000000068b7bff30000000000000000000000000000000000000000000000000000000068b7be05)
    at MetaTransactionsFeature.rrevert (@0x/contracts-utils/contracts/src/errors/LibRichErrors.sol:39)
    at MetaTransactionsFeature.nonReentrant (contracts/src/fixins/FixinReentrancyGuard.sol:38)
    at MetaTransactionsFeature._executeMetaTransactionPrivate (contracts/src/features/MetaTransactionsFeature.sol:227)
    at MetaTransactionsFeature.executeMetaTransaction (contracts/src/features/MetaTransactionsFeature.sol:146)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:47)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:49)
    at EdrProviderWrapper.request (/Users/king/javascript/protocol/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:359:41)
    at async staticCallResult (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:337:22)
    at async executeMetaTransaction.staticCall (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:303:24)
    at async Context.<anonymous> (test/features/meta_transactions_test.ts:456:31)
  

  8) MetaTransactions feature
       executeMetaTransaction()
         fails with unsupported function:
     Error: ÈîôËØØÁºñÁ†Å‰∏çÂåπÈÖç„ÄÇÊúüÊúõ: 0x547a32a377646ac137b0af66db193114fa7d89e8e055698530fe23b5423786d2bd791c8e287b071b00000000000000000000000000000000000000000000000000000000, ÂÆûÈôÖ: 0xbea726ef77646ac137b0af66db193114fa7d89e8e055698530fe23b5423786d2bd791c8e0000000000000000000000000000000000000000000000000000000068b7bff40000000000000000000000000000000000000000000000000000000068b7be05
      at CorrectMetaTransactionsMatcher.expectMetaTransactionUnsupportedFunctionError (test/utils/correct_meta_transactions_matcher.ts:131:23)
      at async Context.<anonymous> (test/features/meta_transactions_test.ts:502:13)

  9) MetaTransactions feature
       executeMetaTransaction()
         cannot execute the same mtx twice:
     Error: VM Exception while processing transaction: reverted with an unrecognized custom error (return data: 0xbea726ef67e235303af857d3b1bf960a8e83bceb40382a4ed62e3e6f1d09d2424d4785880000000000000000000000000000000000000000000000000000000068b7bff40000000000000000000000000000000000000000000000000000000068b7be05)
    at MetaTransactionsFeature.rrevert (@0x/contracts-utils/contracts/src/errors/LibRichErrors.sol:39)
    at MetaTransactionsFeature.nonReentrant (contracts/src/fixins/FixinReentrancyGuard.sol:38)
    at MetaTransactionsFeature._executeMetaTransactionPrivate (contracts/src/features/MetaTransactionsFeature.sol:227)
    at MetaTransactionsFeature.executeMetaTransaction (contracts/src/features/MetaTransactionsFeature.sol:146)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:47)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:49)
    at EdrProviderWrapper.request (/Users/king/javascript/protocol/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:359:41)
    at async HardhatEthersSigner.sendTransaction (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-ethers/src/signers.ts:181:18)
    at async send (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:313:20)
    at async Proxy.executeMetaTransaction (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:352:16)
    at async Context.<anonymous> (test/features/meta_transactions_test.ts:521:24)
  

  10) MetaTransactions feature
       executeMetaTransaction()
         fails if not enough ETH provided:
     Error: ÈîôËØØÁºñÁ†Å‰∏çÂåπÈÖç„ÄÇÊúüÊúõ: 0x0a5ade45bbd89ddd55e262a9741b1457e76f55f7e983c0ef2509a2db3e7ea8d54f1710bb000000000000000000000000000000000000000000000000078063eb322d767c000000000000000000000000000000000000000000000000078063eb322d767d, ÂÆûÈôÖ: 0xbea726efbbd89ddd55e262a9741b1457e76f55f7e983c0ef2509a2db3e7ea8d54f1710bb0000000000000000000000000000000000000000000000000000000068b7bff40000000000000000000000000000000000000000000000000000000068b7be05
      at CorrectMetaTransactionsMatcher.expectMetaTransactionInsufficientEthError (test/utils/correct_meta_transactions_matcher.ts:163:23)
      at async Context.<anonymous> (test/features/meta_transactions_test.ts:543:13)

  11) MetaTransactions feature
       executeMetaTransaction()
         fails if signature is wrong:
     RangeError: data out-of-bounds (buffer=0xb21c670ad0140d91d7d318fb80aaca089072edaf07903431c5b000db66fbf8420000000000000000000000000000000000000000000000000000000068b7bff40000000000000000000000000000000000000000000000000000000068b7be05, length=96, offset=128, code=BUFFER_OVERRUN, version=6.15.0)
      at makeError (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:695:21)
      at assert (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:719:25)
      at Reader.#peekBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:507:23)
      at Reader.readBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:526:36)
      at Reader.readIndex (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:539:30)
      at /Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:90:33
      at Array.forEach (<anonymous>)
      at unpack (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:86:12)
      at TupleCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/tuple.ts:66:22)
      at AbiCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/abi-coder.ts:209:22)

  12) MetaTransactions feature
       executeMetaTransaction()
         cannot reenter `executeMetaTransaction()`:
     RangeError: data out-of-bounds (buffer=0x, length=0, offset=32, code=BUFFER_OVERRUN, version=6.15.0)
      at makeError (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:695:21)
      at assert (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:719:25)
      at Reader.#peekBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:507:23)
      at Reader.readBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:526:36)
      at Reader.readIndex (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:539:30)
      at BytesCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/bytes.ts:28:40)
      at BytesCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/bytes.ts:41:30)
      at /Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:93:31
      at Array.forEach (<anonymous>)
      at unpack (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:86:12)

  13) MetaTransactions feature
       executeMetaTransaction()
         cannot reenter `batchExecuteMetaTransactions()`:
     RangeError: data out-of-bounds (buffer=0x, length=0, offset=32, code=BUFFER_OVERRUN, version=6.15.0)
      at makeError (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:695:21)
      at assert (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:719:25)
      at Reader.#peekBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:507:23)
      at Reader.readBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:526:36)
      at Reader.readIndex (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:539:30)
      at BytesCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/bytes.ts:28:40)
      at BytesCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/bytes.ts:41:30)
      at /Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:93:31
      at Array.forEach (<anonymous>)
      at unpack (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:86:12)

  14) MetaTransactions feature
       executeMetaTransaction()
         cannot reduce initial ETH balance:
     AssertionError: Expected transaction to be reverted with reason 'MetaTransactionsFeature/ETH_LEAK', but it reverted with a custom error
  

  15) MetaTransactions feature
       batchExecuteMetaTransactions()
         can execute multiple transactions:
     Error: VM Exception while processing transaction: reverted with an unrecognized custom error (return data: 0xbea726effba984bbe1f3817d58b5abe42f0813d5723e86f25fb15c47c90f5e095d9720880000000000000000000000000000000000000000000000000000000068b7bff30000000000000000000000000000000000000000000000000000000068b7be06)
    at MetaTransactionsFeature.rrevert (@0x/contracts-utils/contracts/src/errors/LibRichErrors.sol:39)
    at MetaTransactionsFeature.nonReentrant (contracts/src/fixins/FixinReentrancyGuard.sol:38)
    at MetaTransactionsFeature._executeMetaTransactionPrivate (contracts/src/features/MetaTransactionsFeature.sol:227)
    at MetaTransactionsFeature.batchExecuteMetaTransactions (contracts/src/features/MetaTransactionsFeature.sol:178)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:47)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:49)
    at EdrProviderWrapper.request (/Users/king/javascript/protocol/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:359:41)
    at async staticCallResult (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:337:22)
    at async batchExecuteMetaTransactions.staticCall (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:303:24)
    at async Context.<anonymous> (test/features/meta_transactions_test.ts:738:32)
  

  16) MetaTransactions feature
       batchExecuteMetaTransactions()
         cannot execute the same transaction twice:
     Error: VM Exception while processing transaction: reverted with an unrecognized custom error (return data: 0xbea726ef2cd64722f80c99135fb726688ede87a96b98e1f0fd9b034741e1f04ecd3313ee0000000000000000000000000000000000000000000000000000000068b7bff40000000000000000000000000000000000000000000000000000000068b7be06)
    at MetaTransactionsFeature.rrevert (@0x/contracts-utils/contracts/src/errors/LibRichErrors.sol:39)
    at MetaTransactionsFeature.nonReentrant (contracts/src/fixins/FixinReentrancyGuard.sol:38)
    at MetaTransactionsFeature._executeMetaTransactionPrivate (contracts/src/features/MetaTransactionsFeature.sol:227)
    at MetaTransactionsFeature.batchExecuteMetaTransactions (contracts/src/features/MetaTransactionsFeature.sol:178)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:47)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:49)
    at EdrProviderWrapper.request (/Users/king/javascript/protocol/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:359:41)
    at async HardhatEthersSigner.sendTransaction (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-ethers/src/signers.ts:181:18)
    at async send (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:313:20)
    at async Proxy.batchExecuteMetaTransactions (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:352:16)
    at async Context.<anonymous> (test/features/meta_transactions_test.ts:761:29)
  

  17) MetaTransactions feature
       batchExecuteMetaTransactions()
         fails if a meta-transaction fails:
     RangeError: data out-of-bounds (buffer=0x, length=0, offset=32, code=BUFFER_OVERRUN, version=6.15.0)
      at makeError (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:695:21)
      at assert (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:719:25)
      at Reader.#peekBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:507:23)
      at Reader.readBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:526:36)
      at Reader.readIndex (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:539:30)
      at BytesCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/bytes.ts:28:40)
      at BytesCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/bytes.ts:41:30)
      at /Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:93:31
      at Array.forEach (<anonymous>)
      at unpack (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:86:12)

  18) MetaTransactions feature
       batchExecuteMetaTransactions()
         cannot reenter `executeMetaTransaction()`:
     RangeError: data out-of-bounds (buffer=0x, length=0, offset=32, code=BUFFER_OVERRUN, version=6.15.0)
      at makeError (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:695:21)
      at assert (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:719:25)
      at Reader.#peekBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:507:23)
      at Reader.readBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:526:36)
      at Reader.readIndex (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:539:30)
      at BytesCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/bytes.ts:28:40)
      at BytesCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/bytes.ts:41:30)
      at /Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:93:31
      at Array.forEach (<anonymous>)
      at unpack (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:86:12)

  19) MetaTransactions feature
       batchExecuteMetaTransactions()
         cannot reenter `batchExecuteMetaTransactions()`:
     RangeError: data out-of-bounds (buffer=0x, length=0, offset=32, code=BUFFER_OVERRUN, version=6.15.0)
      at makeError (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:695:21)
      at assert (/Users/king/javascript/protocol/node_modules/ethers/src.ts/utils/errors.ts:719:25)
      at Reader.#peekBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:507:23)
      at Reader.readBytes (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:526:36)
      at Reader.readIndex (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/abstract-coder.ts:539:30)
      at BytesCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/bytes.ts:28:40)
      at BytesCoder.decode (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/bytes.ts:41:30)
      at /Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:93:31
      at Array.forEach (<anonymous>)
      at unpack (/Users/king/javascript/protocol/node_modules/ethers/src.ts/abi/coders/array.ts:86:12)

  20) MetaTransactions feature
       batchExecuteMetaTransactions()
         cannot reduce initial ETH balance:
     AssertionError: Expected transaction to be reverted with reason 'MetaTransactionsFeature/ETH_LEAK', but it reverted with a custom error
  

  21) MetaTransactions feature
       getMetaTransactionExecutedBlock()
         returns the block it was executed in:
     Error: VM Exception while processing transaction: reverted with an unrecognized custom error (return data: 0xbea726ef0bc1a3a0026db7b2305407a3684dd9632410c2d6bbd50d73e58fb24cc5a2dae10000000000000000000000000000000000000000000000000000000068b7bff40000000000000000000000000000000000000000000000000000000068b7be06)
    at MetaTransactionsFeature.rrevert (@0x/contracts-utils/contracts/src/errors/LibRichErrors.sol:39)
    at MetaTransactionsFeature.nonReentrant (contracts/src/fixins/FixinReentrancyGuard.sol:38)
    at MetaTransactionsFeature._executeMetaTransactionPrivate (contracts/src/features/MetaTransactionsFeature.sol:227)
    at MetaTransactionsFeature.executeMetaTransaction (contracts/src/features/MetaTransactionsFeature.sol:146)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:47)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:49)
    at EdrProviderWrapper.request (/Users/king/javascript/protocol/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:359:41)
    at async HardhatEthersSigner.sendTransaction (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-ethers/src/signers.ts:181:18)
    at async send (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:313:20)
    at async Proxy.executeMetaTransaction (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:352:16)
    at async Context.<anonymous> (test/features/meta_transactions_test.ts:883:29)
  

  22) MetaTransactions feature
       getMetaTransactionHashExecutedBlock()
         returns the block it was executed in:
     Error: VM Exception while processing transaction: reverted with an unrecognized custom error (return data: 0xbea726ef37124366261c16b711df1d23a7a99b04eef7d0dad23d18e2fa20de3819c55d9f0000000000000000000000000000000000000000000000000000000068b7bff40000000000000000000000000000000000000000000000000000000068b7be06)
    at MetaTransactionsFeature.rrevert (@0x/contracts-utils/contracts/src/errors/LibRichErrors.sol:39)
    at MetaTransactionsFeature.nonReentrant (contracts/src/fixins/FixinReentrancyGuard.sol:38)
    at MetaTransactionsFeature._executeMetaTransactionPrivate (contracts/src/features/MetaTransactionsFeature.sol:227)
    at MetaTransactionsFeature.executeMetaTransaction (contracts/src/features/MetaTransactionsFeature.sol:146)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:47)
    at ZeroEx.<fallback> (contracts/src/ZeroEx.sol:49)
    at EdrProviderWrapper.request (/Users/king/javascript/protocol/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:359:41)
    at async HardhatEthersSigner.sendTransaction (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-ethers/src/signers.ts:181:18)
    at async send (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:313:20)
    at async Proxy.executeMetaTransaction (/Users/king/javascript/protocol/node_modules/ethers/src.ts/contract/contract.ts:352:16)
    at async Context.<anonymous> (test/features/meta_transactions_test.ts:908:29)
  

  23) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForToken
           reverts if minBuyAmount is not satisfied:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:539:42)

  24) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForToken
           reverts if given an invalid subcall type:
     TypeError: multiplex.multiplexBatchSellTokenForToken(...) is not a function
      at Context.<anonymous> (test/features/multiplex_test.ts:566:22)
      at processImmediate (node:internal/timers:505:21)

  25) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForToken
           reverts if the full sell amount is not sold:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:572:42)

  26) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForToken
           RFQ, fallback(UniswapV2):
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:588:42)

  27) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForToken
           OTC, fallback(UniswapV2):
     TypeError: Cannot read properties of undefined (reading 'create')
      at getOtcSubcallAsync (test/features/multiplex_test.ts:292:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:620:42)

  28) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForToken
           expired RFQ, fallback(UniswapV2):
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:651:42)

  29) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForToken
           expired OTC, fallback(UniswapV2):
     TypeError: Cannot read properties of undefined (reading 'create')
      at getOtcSubcallAsync (test/features/multiplex_test.ts:292:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:695:42)

  30) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForToken
           expired RFQ, fallback(TransformERC20):
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:739:42)

  31) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForToken
           LiquidityProvider, UniV3, Sushiswap:
     TypeError: factory.createPool(...) is not a function
      at createUniswapV2PoolAsync (test/features/multiplex_test.ts:201:75)
      at Context.<anonymous> (test/features/multiplex_test.ts:799:41)

  32) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForToken
           proportional fill amounts:
     TypeError: factory.createPool(...) is not a function
      at createUniswapV2PoolAsync (test/features/multiplex_test.ts:201:75)
      at Context.<anonymous> (test/features/multiplex_test.ts:859:39)

  33) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForToken
           RFQ, MultiHop(UniV3, UniV2):
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:910:42)

  34) MultiplexFeature
       batch sells
         multiplexBatchSellEthForToken
           RFQ:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:970:42)

  35) MultiplexFeature
       batch sells
         multiplexBatchSellEthForToken
           OTC:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getOtcSubcallAsync (test/features/multiplex_test.ts:292:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:1001:42)

  36) MultiplexFeature
       batch sells
         multiplexBatchSellEthForToken
           UniswapV2:
     TypeError: factory.createPool(...) is not a function
      at createUniswapV2PoolAsync (test/features/multiplex_test.ts:201:75)
      at Context.<anonymous> (test/features/multiplex_test.ts:1031:39)

  37) MultiplexFeature
       batch sells
         multiplexBatchSellEthForToken
           UniswapV3:
     TypeError: uniV3Factory.createPool(...) is not a function
      at createUniswapV3PoolAsync (test/features/multiplex_test.ts:224:74)
      at Context.<anonymous> (test/features/multiplex_test.ts:1061:37)

  38) MultiplexFeature
       batch sells
         multiplexBatchSellEthForToken
           LiquidityProvider:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getLiquidityProviderMultiHopSubcall (test/features/multiplex_test.ts:360:43)
      at getLiquidityProviderBatchSubcall (test/features/multiplex_test.ts:376:16)
      at Context.<anonymous> (test/features/multiplex_test.ts:1090:50)

  39) MultiplexFeature
       batch sells
         multiplexBatchSellEthForToken
           TransformERC20:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getTransformERC20Subcall (test/features/multiplex_test.ts:387:50)
      at Context.<anonymous> (test/features/multiplex_test.ts:1118:47)

  40) MultiplexFeature
       batch sells
         multiplexBatchSellEthForToken
           RFQ, MultiHop(UniV3, UniV2):
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:1152:42)

  41) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForEth
           RFQ:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:1210:42)

  42) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForEth
           OTC:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getOtcSubcallAsync (test/features/multiplex_test.ts:292:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:1237:42)

  43) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForEth
           UniswapV2:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getUniswapV2MultiHopSubcall (test/features/multiplex_test.ts:312:47)
      at getUniswapV2BatchSubcall (test/features/multiplex_test.ts:327:16)
      at Context.<anonymous> (test/features/multiplex_test.ts:1263:42)

  44) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForEth
           UniswapV3:
     Error: Cannot convert undefined to BigInt
      at toBigInt (/Users/king/javascript/protocol/packages/utils/src/configured_bigint.ts:57:11)
      at Object.toHex (/Users/king/javascript/protocol/packages/utils/src/hex_utils.ts:102:22)
      at Object.leftPad (/Users/king/javascript/protocol/packages/utils/src/hex_utils.ts:43:80)
      at /Users/king/javascript/protocol/contracts/zero-ex/test/features/multiplex_test.ts:340:33
      at Array.forEach (<anonymous>)
      at getUniswapV3MultiHopSubcall (test/features/multiplex_test.ts:336:17)
      at getUniswapV3BatchSubcall (test/features/multiplex_test.ts:354:16)
      at Context.<anonymous> (test/features/multiplex_test.ts:1295:42)

  45) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForEth
           LiquidityProvider:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getLiquidityProviderMultiHopSubcall (test/features/multiplex_test.ts:360:43)
      at getLiquidityProviderBatchSubcall (test/features/multiplex_test.ts:376:16)
      at Context.<anonymous> (test/features/multiplex_test.ts:1327:50)

  46) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForEth
           TransformERC20:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getTransformERC20Subcall (test/features/multiplex_test.ts:387:50)
      at Context.<anonymous> (test/features/multiplex_test.ts:1358:47)

  47) MultiplexFeature
       batch sells
         multiplexBatchSellTokenForEth
           RFQ, MultiHop(UniV3, UniV2):
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:1400:42)

  48) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForToken
           reverts if given an invalid subcall type:
     TypeError: multiplex.multiplexMultiHopSellTokenForToken(...) is not a function
      at Context.<anonymous> (test/features/multiplex_test.ts:1471:22)
      at processImmediate (node:internal/timers:505:21)

  49) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForToken
           reverts if minBuyAmount is not satisfied:
     TypeError: factory.createPool(...) is not a function
      at createUniswapV2PoolAsync (test/features/multiplex_test.ts:201:75)
      at Context.<anonymous> (test/features/multiplex_test.ts:1477:23)

  50) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForToken
           reverts if array lengths are mismatched:
     TypeError: factory.createPool(...) is not a function
      at createUniswapV2PoolAsync (test/features/multiplex_test.ts:201:75)
      at Context.<anonymous> (test/features/multiplex_test.ts:1493:23)

  51) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForToken
           UniswapV2 -> LiquidityProvider:
     TypeError: factory.createPool(...) is not a function
      at createUniswapV2PoolAsync (test/features/multiplex_test.ts:201:75)
      at Context.<anonymous> (test/features/multiplex_test.ts:1510:39)

  52) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForToken
           LiquidityProvider -> Sushiswap:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getLiquidityProviderMultiHopSubcall (test/features/multiplex_test.ts:360:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:1551:50)

  53) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForToken
           UniswapV3 -> BatchSell(RFQ, UniswapV2):
     TypeError: token.mint(...) is not a function
      at mintToAsync (test/features/multiplex_test.ts:188:48)
      at Context.<anonymous> (test/features/multiplex_test.ts:1591:23)

  54) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForToken
           BatchSell(RFQ, UniswapV2) -> UniswapV3:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:1652:42)

  55) MultiplexFeature
       multihop sells
         multiplexMultiHopSellEthForToken
           reverts if first token is not WETH:
     TypeError: factory.createPool(...) is not a function
      at createUniswapV2PoolAsync (test/features/multiplex_test.ts:201:75)
      at Context.<anonymous> (test/features/multiplex_test.ts:1714:23)

  56) MultiplexFeature
       multihop sells
         multiplexMultiHopSellEthForToken
           UniswapV2 -> LiquidityProvider:
     TypeError: factory.createPool(...) is not a function
      at createUniswapV2PoolAsync (test/features/multiplex_test.ts:201:75)
      at Context.<anonymous> (test/features/multiplex_test.ts:1730:39)

  57) MultiplexFeature
       multihop sells
         multiplexMultiHopSellEthForToken
           LiquidityProvider -> Sushiswap:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getLiquidityProviderMultiHopSubcall (test/features/multiplex_test.ts:360:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:1770:50)

  58) MultiplexFeature
       multihop sells
         multiplexMultiHopSellEthForToken
           UniswapV3 -> BatchSell(RFQ, UniswapV2):
     TypeError: uniV3Factory.createPool(...) is not a function
      at createUniswapV3PoolAsync (test/features/multiplex_test.ts:224:74)
      at Context.<anonymous> (test/features/multiplex_test.ts:1809:37)

  59) MultiplexFeature
       multihop sells
         multiplexMultiHopSellEthForToken
           BatchSell(RFQ, UniswapV2) -> UniswapV3:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:1869:42)

  60) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForEth
           reverts if last token is not WETH:
     TypeError: factory.createPool(...) is not a function
      at createUniswapV2PoolAsync (test/features/multiplex_test.ts:201:75)
      at Context.<anonymous> (test/features/multiplex_test.ts:1930:23)

  61) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForEth
           UniswapV2 -> LiquidityProvider:
     TypeError: factory.createPool(...) is not a function
      at createUniswapV2PoolAsync (test/features/multiplex_test.ts:201:75)
      at Context.<anonymous> (test/features/multiplex_test.ts:1947:39)

  62) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForEth
           LiquidityProvider -> Sushiswap:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getLiquidityProviderMultiHopSubcall (test/features/multiplex_test.ts:360:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:1989:50)

  63) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForEth
           UniswapV3 -> BatchSell(RFQ, UniswapV2):
     TypeError: uniV3Factory.createPool(...) is not a function
      at createUniswapV3PoolAsync (test/features/multiplex_test.ts:224:74)
      at Context.<anonymous> (test/features/multiplex_test.ts:2030:37)

  64) MultiplexFeature
       multihop sells
         multiplexMultiHopSellTokenForEth
           BatchSell(RFQ, UniswapV2) -> UniswapV3:
     TypeError: Cannot read properties of undefined (reading 'create')
      at getRfqSubcallAsync (test/features/multiplex_test.ts:255:43)
      at Context.<anonymous> (test/features/multiplex_test.ts:2092:42)

  65) OtcOrdersFeature
       lastOtcTxOriginNonce()
         returns 0 if bucket is unused:
     TypeError: zeroEx.lastOtcTxOriginNonce is not a function
      at Context.<anonymous> (test/features/otc_orders_test.ts:147:40)
      at processImmediate (node:internal/timers:505:21)

  66) OtcOrdersFeature
       lastOtcTxOriginNonce()
         returns the last nonce used in a bucket:
     TypeError: this.zeroEx.connect(...).fillOtcOrder is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:181:18)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:152:13)

  67) OtcOrdersFeature
       getOtcOrderInfo()
         unfilled order:
     TypeError: zeroEx.getOtcOrderInfo is not a function
      at Context.<anonymous> (test/features/otc_orders_test.ts:161:39)

  68) OtcOrdersFeature
       getOtcOrderInfo()
         unfilled expired order:
     TypeError: zeroEx.getOtcOrderInfo is not a function
      at Context.<anonymous> (test/features/otc_orders_test.ts:171:39)

  69) OtcOrdersFeature
       getOtcOrderInfo()
         filled then expired order:
     TypeError: this.zeroEx.connect(...).fillOtcOrder is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:181:18)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:181:13)

  70) OtcOrdersFeature
       getOtcOrderInfo()
         filled order:
     TypeError: this.zeroEx.connect(...).fillOtcOrder is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:181:18)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:195:13)

  71) OtcOrdersFeature
       fillOtcOrder()
         can fully fill an order:
     TypeError: this.zeroEx.connect(...).fillOtcOrder is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:181:18)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:225:29)

  72) OtcOrdersFeature
       fillOtcOrder()
         can partially fill an order:
     TypeError: this.zeroEx.connect(...).fillOtcOrder is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:181:18)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:237:29)

  73) OtcOrdersFeature
       fillOtcOrder()
         clamps fill amount to remaining available:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at Context.<anonymous> (test/features/otc_orders_test.ts:248:49)

  74) OtcOrdersFeature
       fillOtcOrder()
         cannot fill an order with wrong tx.origin:
     TypeError: Expected the revert reason to be a string or a regular expression
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-chai-matchers/src/internal/reverted/revertedWith.ts:26:15)
      at Proxy.methodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at doAsserterAsyncAndAddThen (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:289:22)
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:255:20)
      at Proxy.overwritingMethodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/overwriteMethod.js:78:33)
      at Context.<anonymous> (test/features/otc_orders_test.ts:261:37)

  75) OtcOrdersFeature
       fillOtcOrder()
         cannot fill an order with wrong taker:
     TypeError: Expected the revert reason to be a string or a regular expression
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-chai-matchers/src/internal/reverted/revertedWith.ts:26:15)
      at Proxy.methodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at doAsserterAsyncAndAddThen (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:289:22)
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:255:20)
      at Proxy.overwritingMethodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/overwriteMethod.js:78:33)
      at Context.<anonymous> (test/features/otc_orders_test.ts:269:37)

  76) OtcOrdersFeature
       fillOtcOrder()
         can fill an order from a different tx.origin if registered:
     TypeError: zeroEx.connect(...).registerAllowedRfqOrigins is not a function
      at Context.<anonymous> (test/features/otc_orders_test.ts:278:47)

  77) OtcOrdersFeature
       fillOtcOrder()
         cannot fill an order with registered then unregistered tx.origin:
     TypeError: zeroEx.connect(...).registerAllowedRfqOrigins is not a function
      at Context.<anonymous> (test/features/otc_orders_test.ts:286:47)

  78) OtcOrdersFeature
       fillOtcOrder()
         cannot fill an order with a zero tx.origin:
     TypeError: Expected the revert reason to be a string or a regular expression
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-chai-matchers/src/internal/reverted/revertedWith.ts:26:15)
      at Proxy.methodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at doAsserterAsyncAndAddThen (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:289:22)
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:255:20)
      at Proxy.overwritingMethodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/overwriteMethod.js:78:33)
      at Context.<anonymous> (test/features/otc_orders_test.ts:297:37)

  79) OtcOrdersFeature
       fillOtcOrder()
         cannot fill an expired order:
     TypeError: Expected the revert reason to be a string or a regular expression
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-chai-matchers/src/internal/reverted/revertedWith.ts:26:15)
      at Proxy.methodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at doAsserterAsyncAndAddThen (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:289:22)
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:255:20)
      at Proxy.overwritingMethodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/overwriteMethod.js:78:33)
      at Context.<anonymous> (test/features/otc_orders_test.ts:305:37)

  80) OtcOrdersFeature
       fillOtcOrder()
         cannot fill order with bad signature:
     TypeError: Expected the revert reason to be a string or a regular expression
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-chai-matchers/src/internal/reverted/revertedWith.ts:26:15)
      at Proxy.methodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at doAsserterAsyncAndAddThen (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:289:22)
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:255:20)
      at Proxy.overwritingMethodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/overwriteMethod.js:78:33)
      at Context.<anonymous> (test/features/otc_orders_test.ts:315:37)

  81) OtcOrdersFeature
       fillOtcOrder()
         fails if ETH is attached:
     TypeError: zeroEx.fillOtcOrder is not a function
      at Context.<anonymous> (test/features/otc_orders_test.ts:324:18)

  82) OtcOrdersFeature
       fillOtcOrder()
         cannot fill the same order¬†twice:
     TypeError: this.zeroEx.connect(...).fillOtcOrder is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:181:18)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:332:13)

  83) OtcOrdersFeature
       fillOtcOrder()
         cannot fill two orders with the same nonceBucket and nonce:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at /Users/king/javascript/protocol/contracts/zero-ex/test/utils/orders.ts:101:105
      at Array.reduce (<anonymous>)
      at NativeOrdersTestEnvironment.prepareBalancesForOrdersAsync (test/utils/orders.ts:101:87)
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:167:20)
      at Context.<anonymous> (test/features/otc_orders_test.ts:341:29)

  84) OtcOrdersFeature
       fillOtcOrder()
         cannot fill an order whose nonce is less than the nonce last used in that bucket:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at /Users/king/javascript/protocol/contracts/zero-ex/test/utils/orders.ts:101:105
      at Array.reduce (<anonymous>)
      at NativeOrdersTestEnvironment.prepareBalancesForOrdersAsync (test/utils/orders.ts:101:87)
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:167:20)
      at Context.<anonymous> (test/features/otc_orders_test.ts:351:29)

  85) OtcOrdersFeature
       fillOtcOrder()
         can fill two orders that use the same nonce bucket and increasing nonces:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at /Users/king/javascript/protocol/contracts/zero-ex/test/utils/orders.ts:101:105
      at Array.reduce (<anonymous>)
      at NativeOrdersTestEnvironment.prepareBalancesForOrdersAsync (test/utils/orders.ts:101:87)
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:167:20)
      at Context.<anonymous> (test/features/otc_orders_test.ts:361:41)

  86) OtcOrdersFeature
       fillOtcOrder()
         can fill two orders that use the same nonce but different nonce buckets:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at /Users/king/javascript/protocol/contracts/zero-ex/test/utils/orders.ts:101:105
      at Array.reduce (<anonymous>)
      at NativeOrdersTestEnvironment.prepareBalancesForOrdersAsync (test/utils/orders.ts:101:87)
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:167:20)
      at Context.<anonymous> (test/features/otc_orders_test.ts:378:41)

  87) OtcOrdersFeature
       fillOtcOrder()
         can fill a WETH buy order and receive ETH:
     TypeError: this.zeroEx.connect(...).fillOtcOrderForEth is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:172:18)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:399:29)

  88) OtcOrdersFeature
       fillOtcOrder()
         reverts if `unwrapWeth` is true but maker token is not WETH:
     TypeError: this.zeroEx.connect(...).fillOtcOrderForEth is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderAsync (test/utils/orders.ts:172:18)

  89) OtcOrdersFeature
       fillOtcOrder()
         allows for fills on orders signed by a approved signer:
     Error: Cannot convert undefined to BigInt
      at toBigInt (/Users/king/javascript/protocol/packages/utils/src/configured_bigint.ts:57:11)
      at Object.toHex (/Users/king/javascript/protocol/packages/utils/src/hex_utils.ts:102:22)
      at Object.leftPad (/Users/king/javascript/protocol/packages/utils/src/hex_utils.ts:43:80)
      at OtcOrder.getStructHash (/Users/king/javascript/protocol/packages/protocol-utils/src/orders.ts:440:26)
      at OtcOrder.getHash (/Users/king/javascript/protocol/packages/protocol-utils/src/orders.ts:114:48)
      at OtcOrder.getSignatureWithProviderAsync (/Users/king/javascript/protocol/packages/protocol-utils/src/orders.ts:126:58)
      at Context.<anonymous> (test/features/otc_orders_test.ts:417:37)

  90) OtcOrdersFeature
       fillOtcOrder()
         disallows fills if the signer is revoked:
     Error: Cannot convert undefined to BigInt
      at toBigInt (/Users/king/javascript/protocol/packages/utils/src/configured_bigint.ts:57:11)
      at Object.toHex (/Users/king/javascript/protocol/packages/utils/src/hex_utils.ts:102:22)
      at Object.leftPad (/Users/king/javascript/protocol/packages/utils/src/hex_utils.ts:43:80)
      at OtcOrder.getStructHash (/Users/king/javascript/protocol/packages/protocol-utils/src/orders.ts:440:26)
      at OtcOrder.getHash (/Users/king/javascript/protocol/packages/protocol-utils/src/orders.ts:114:48)
      at OtcOrder.getSignatureWithProviderAsync (/Users/king/javascript/protocol/packages/protocol-utils/src/orders.ts:126:58)
      at Context.<anonymous> (test/features/otc_orders_test.ts:444:37)

  91) OtcOrdersFeature
       fillOtcOrder()
         doesn't allow fills with an unapproved signer:
     Error: Cannot convert undefined to BigInt
      at toBigInt (/Users/king/javascript/protocol/packages/utils/src/configured_bigint.ts:57:11)
      at Object.toHex (/Users/king/javascript/protocol/packages/utils/src/hex_utils.ts:102:22)
      at Object.leftPad (/Users/king/javascript/protocol/packages/utils/src/hex_utils.ts:43:80)
      at OtcOrder.getStructHash (/Users/king/javascript/protocol/packages/protocol-utils/src/orders.ts:440:26)
      at OtcOrder.getHash (/Users/king/javascript/protocol/packages/protocol-utils/src/orders.ts:114:48)
      at OtcOrder.getSignatureWithProviderAsync (/Users/king/javascript/protocol/packages/protocol-utils/src/orders.ts:126:58)
      at Context.<anonymous> (test/features/otc_orders_test.ts:476:37)

  92) OtcOrdersFeature
       fillOtcOrderWithEth()
         Can fill an order with ETH (takerToken=WETH):
     TypeError: this.zeroEx.connect(...).fillOtcOrderWithEth is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderWithEthAsync (test/utils/orders.ts:228:14)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:493:29)

  93) OtcOrdersFeature
       fillOtcOrderWithEth()
         Can fill an order with ETH (takerToken=ETH):
     TypeError: this.zeroEx.connect(...).fillOtcOrderWithEth is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderWithEthAsync (test/utils/orders.ts:228:14)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:504:29)

  94) OtcOrdersFeature
       fillOtcOrderWithEth()
         Can partially fill an order with ETH (takerToken=WETH):
     TypeError: this.zeroEx.connect(...).fillOtcOrderWithEth is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderWithEthAsync (test/utils/orders.ts:228:14)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:522:29)

  95) OtcOrdersFeature
       fillOtcOrderWithEth()
         Can partially fill an order with ETH (takerToken=ETH):
     TypeError: this.zeroEx.connect(...).fillOtcOrderWithEth is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderWithEthAsync (test/utils/orders.ts:228:14)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:534:29)

  96) OtcOrdersFeature
       fillOtcOrderWithEth()
         Can refund excess ETH is msg.value > order.takerAmount (takerToken=WETH):
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at Context.<anonymous> (test/features/otc_orders_test.ts:552:49)

  97) OtcOrdersFeature
       fillOtcOrderWithEth()
         Can refund excess ETH is msg.value > order.takerAmount (takerToken=ETH):
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at Context.<anonymous> (test/features/otc_orders_test.ts:566:49)

  98) OtcOrdersFeature
       fillOtcOrderWithEth()
         Cannot fill an order if taker token is not ETH or WETH:
     TypeError: this.zeroEx.connect(...).fillOtcOrderWithEth is not a function
      at NativeOrdersTestEnvironment.fillOtcOrderWithEthAsync (test/utils/orders.ts:228:14)

  99) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         can fully fill an order:
     TypeError: this.zeroEx.connect(...).fillTakerSignedOtcOrder is not a function
      at NativeOrdersTestEnvironment.fillTakerSignedOtcOrderAsync (test/utils/orders.ts:210:18)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:598:29)

  100) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         cannot fill an order with wrong tx.origin:
     TypeError: Expected the revert reason to be a string or a regular expression
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-chai-matchers/src/internal/reverted/revertedWith.ts:26:15)
      at Proxy.methodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at doAsserterAsyncAndAddThen (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:289:22)
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:255:20)
      at Proxy.overwritingMethodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/overwriteMethod.js:78:33)
      at Context.<anonymous> (test/features/otc_orders_test.ts:610:37)

  101) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         can fill an order from a different tx.origin if registered:
     TypeError: zeroEx.registerAllowedRfqOrigins is not a function
      at Context.<anonymous> (test/features/otc_orders_test.ts:618:18)

  102) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         cannot fill an order with registered then unregistered tx.origin:
     TypeError: zeroEx.registerAllowedRfqOrigins is not a function
      at Context.<anonymous> (test/features/otc_orders_test.ts:626:18)

  103) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         cannot fill an order with a zero tx.origin:
     TypeError: Expected the revert reason to be a string or a regular expression
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-chai-matchers/src/internal/reverted/revertedWith.ts:26:15)
      at Proxy.methodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at doAsserterAsyncAndAddThen (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:289:22)
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:255:20)
      at Proxy.overwritingMethodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/overwriteMethod.js:78:33)
      at Context.<anonymous> (test/features/otc_orders_test.ts:640:37)

  104) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         cannot fill an expired order:
     TypeError: Expected the revert reason to be a string or a regular expression
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-chai-matchers/src/internal/reverted/revertedWith.ts:26:15)
      at Proxy.methodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at doAsserterAsyncAndAddThen (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:289:22)
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:255:20)
      at Proxy.overwritingMethodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/overwriteMethod.js:78:33)
      at Context.<anonymous> (test/features/otc_orders_test.ts:648:37)

  105) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         cannot fill an order with bad taker signature:
     TypeError: Expected the revert reason to be a string or a regular expression
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/@nomicfoundation/hardhat-chai-matchers/src/internal/reverted/revertedWith.ts:26:15)
      at Proxy.methodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/addMethod.js:57:25)
      at doAsserterAsyncAndAddThen (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:289:22)
      at Proxy.<anonymous> (/Users/king/javascript/protocol/node_modules/chai-as-promised/lib/chai-as-promised.js:255:20)
      at Proxy.overwritingMethodWrapper (/Users/king/javascript/protocol/node_modules/chai/lib/chai/utils/overwriteMethod.js:78:33)
      at Context.<anonymous> (test/features/otc_orders_test.ts:656:37)

  106) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         cannot fill order with bad maker signature:
     TypeError: anotherOrder.getSignatureWithProviderAsync is not a function
      at Context.<anonymous> (test/features/otc_orders_test.ts:668:40)

  107) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         fails if ETH is attached:
     TypeError: zeroEx.fillTakerSignedOtcOrder is not a function
      at Context.<anonymous> (test/features/otc_orders_test.ts:682:18)

  108) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         cannot fill the same order¬†twice:
     TypeError: this.zeroEx.connect(...).fillTakerSignedOtcOrder is not a function
      at NativeOrdersTestEnvironment.fillTakerSignedOtcOrderAsync (test/utils/orders.ts:210:18)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:694:13)

  109) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         cannot fill two orders with the same nonceBucket and nonce:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at /Users/king/javascript/protocol/contracts/zero-ex/test/utils/orders.ts:101:105
      at Array.reduce (<anonymous>)
      at NativeOrdersTestEnvironment.prepareBalancesForOrdersAsync (test/utils/orders.ts:101:87)
      at NativeOrdersTestEnvironment.fillTakerSignedOtcOrderAsync (test/utils/orders.ts:196:20)
      at Context.<anonymous> (test/features/otc_orders_test.ts:703:29)

  110) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         cannot fill an order whose nonce is less than the nonce last used in that bucket:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at /Users/king/javascript/protocol/contracts/zero-ex/test/utils/orders.ts:101:105
      at Array.reduce (<anonymous>)
      at NativeOrdersTestEnvironment.prepareBalancesForOrdersAsync (test/utils/orders.ts:101:87)
      at NativeOrdersTestEnvironment.fillTakerSignedOtcOrderAsync (test/utils/orders.ts:196:20)
      at Context.<anonymous> (test/features/otc_orders_test.ts:713:29)

  111) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         can fill two orders that use the same nonce bucket and increasing nonces:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at /Users/king/javascript/protocol/contracts/zero-ex/test/utils/orders.ts:101:105
      at Array.reduce (<anonymous>)
      at NativeOrdersTestEnvironment.prepareBalancesForOrdersAsync (test/utils/orders.ts:101:87)
      at NativeOrdersTestEnvironment.fillTakerSignedOtcOrderAsync (test/utils/orders.ts:196:20)
      at Context.<anonymous> (test/features/otc_orders_test.ts:728:41)

  112) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         can fill two orders that use the same nonce but different nonce buckets:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at /Users/king/javascript/protocol/contracts/zero-ex/test/utils/orders.ts:101:105
      at Array.reduce (<anonymous>)
      at NativeOrdersTestEnvironment.prepareBalancesForOrdersAsync (test/utils/orders.ts:101:87)
      at NativeOrdersTestEnvironment.fillTakerSignedOtcOrderAsync (test/utils/orders.ts:196:20)
      at Context.<anonymous> (test/features/otc_orders_test.ts:750:41)

  113) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         can fill a WETH buy order and receive ETH:
     TypeError: this.zeroEx.connect(...).fillTakerSignedOtcOrderForEth is not a function
      at NativeOrdersTestEnvironment.fillTakerSignedOtcOrderAsync (test/utils/orders.ts:201:18)
      at async Context.<anonymous> (test/features/otc_orders_test.ts:776:29)

  114) OtcOrdersFeature
       fillTakerSignedOtcOrder()
         reverts if `unwrapWeth` is true but maker token is not WETH:
     TypeError: this.zeroEx.connect(...).fillTakerSignedOtcOrderForEth is not a function
      at NativeOrdersTestEnvironment.fillTakerSignedOtcOrderAsync (test/utils/orders.ts:201:18)

  115) OtcOrdersFeature
       batchFillTakerSignedOtcOrders()
         Fills multiple orders:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at /Users/king/javascript/protocol/contracts/zero-ex/test/utils/orders.ts:101:105
      at Array.reduce (<anonymous>)
      at NativeOrdersTestEnvironment.prepareBalancesForOrdersAsync (test/utils/orders.ts:101:87)
      at Context.<anonymous> (test/features/otc_orders_test.ts:802:29)

  116) OtcOrdersFeature
       batchFillTakerSignedOtcOrders()
         Fills multiple orders and unwraps WETH:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at /Users/king/javascript/protocol/contracts/zero-ex/test/utils/orders.ts:101:105
      at Array.reduce (<anonymous>)
      at NativeOrdersTestEnvironment.prepareBalancesForOrdersAsync (test/utils/orders.ts:101:87)
      at Context.<anonymous> (test/features/otc_orders_test.ts:834:29)

  117) OtcOrdersFeature
       batchFillTakerSignedOtcOrders()
         Skips over unfillable orders:
     TypeError: Cannot mix BigInt and other types, use explicit conversions
      at /Users/king/javascript/protocol/contracts/zero-ex/test/utils/orders.ts:101:105
      at Array.reduce (<anonymous>)
      at NativeOrdersTestEnvironment.prepareBalancesForOrdersAsync (test/utils/orders.ts:101:87)
      at Context.<anonymous> (test/features/otc_orders_test.ts:865:29)

  118) SimpleFunctionRegistry feature
       `rollback()` to non-zero impl reverts for unregistered function:
     AssertionError: expected 'VM Exception while processing transac‚Ä¶' to match /rollback|history|not.*found/i
      at Context.<anonymous> (test/features/simple_function_registry_test.ts:111:38)

  119) SimpleFunctionRegistry feature
       owner can add a new function with `extend()`:
     TypeError: testFeature.testFn is not a function
      at Context.<anonymous> (test/features/simple_function_registry_test.ts:133:37)

  120) SimpleFunctionRegistry feature
       owner can replace add a function with `extend()`:
     TypeError: testFeature.testFn is not a function
      at Context.<anonymous> (test/features/simple_function_registry_test.ts:141:37)

  121) SimpleFunctionRegistry feature
       owner can zero a function with `extend()`:
     TypeError: testFeature.testFn is not a function
      at Context.<anonymous> (test/features/simple_function_registry_test.ts:149:35)

  122) SimpleFunctionRegistry feature
       owner can rollback a function to zero:
     TypeError: testFeature.testFn is not a function
      at Context.<anonymous> (test/features/simple_function_registry_test.ts:184:35)

  123) SimpleFunctionRegistry feature
       owner can rollback a function to the prior version:
     TypeError: registry.extend(...) is not a function
      at Context.<anonymous> (test/features/simple_function_registry_test.ts:190:83)

  124) SimpleFunctionRegistry feature
       owner can rollback a zero function to the prior version:
     TypeError: registry.extend(...) is not a function
      at Context.<anonymous> (test/features/simple_function_registry_test.ts:200:83)

  125) SimpleFunctionRegistry feature
       owner can rollback a function to a much older version:
     TypeError: registry.extend(...) is not a function
      at Context.<anonymous> (test/features/simple_function_registry_test.ts:211:83)

  126) SimpleFunctionRegistry feature
       owner cannot rollback a function to a version not in history:
     AssertionError: expected 'VM Exception while processing transac‚Ä¶' to match /rollback|history|not.*found/i
      at Context.<anonymous> (test/features/simple_function_registry_test.ts:233:38)

  127) TransformERC20 feature
       wallets
         createTransformWallet() replaces the current wallet:
     AssertionError: expected '0x325E31CfF0c4f11c87C5fb7c6432077f099‚Ä¶' to equal ContractTransactionResponse{ ‚Ä¶(21) }
      at Context.<anonymous> (test/features/transform_erc20_test.ts:86:66)

  128) TransformERC20 feature
       transformer deployer
         owner can set the transformer deployer with `setTransformerDeployer()`:
     TypeError: feature.setTransformerDeployer(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:115:53)
      at processImmediate (node:internal/timers:505:21)

  129) TransformERC20 feature
       transformer deployer
         non-owner cannot set the transformer deployer with `setTransformerDeployer()`:
     TypeError: feature.setTransformerDeployer(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:129:67)
      at processImmediate (node:internal/timers:505:21)

  130) TransformERC20 feature
       quote signer
         `getQuoteSigner()` returns the quote signer:

      AssertionError: expected '0x51721CA2071A63DbcCAa6814937Cff1ED85756f1' to equal '0x51721ca2071a63dbccaa6814937cff1ed85756f1'.
      + expected - actual

      -0x51721CA2071A63DbcCAa6814937Cff1ED85756f1
      +0x51721ca2071a63dbccaa6814937cff1ed85756f1
      
      at Context.<anonymous> (test/features/transform_erc20_test.ts:137:37)

  131) TransformERC20 feature
       quote signer
         owner can set the quote signer with `setQuoteSigner()`:
     TypeError: feature.setQuoteSigner(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:142:68)
      at processImmediate (node:internal/timers:505:21)

  132) TransformERC20 feature
       quote signer
         non-owner cannot set the quote signer with `setQuoteSigner()`:
     TypeError: feature.setQuoteSigner(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:155:57)
      at processImmediate (node:internal/timers:505:21)

  133) TransformERC20 feature
       _transformERC20()/transformERC20()
         _transformERC20()
           succeeds if taker's output token balance increases by exactly minOutputTokenAmount:
     TypeError: outputToken.mint(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:234:74)
      at processImmediate (node:internal/timers:505:21)

  134) TransformERC20 feature
       _transformERC20()/transformERC20()
         _transformERC20()
           succeeds if taker's output token balance increases by exactly minOutputTokenAmount, with ETH:
     TypeError: inputToken.mint(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:288:72)
      at processImmediate (node:internal/timers:505:21)

  135) TransformERC20 feature
       _transformERC20()/transformERC20()
         _transformERC20()
           succeeds if taker's output token balance increases by more than minOutputTokenAmount:
     TypeError: outputToken.mint(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:349:74)
      at processImmediate (node:internal/timers:505:21)

  136) TransformERC20 feature
       _transformERC20()/transformERC20()
         _transformERC20()
           throws if taker's output token balance increases by less than minOutputTokenAmount:
     TypeError: outputToken.mint(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:404:74)
      at processImmediate (node:internal/timers:505:21)

  137) TransformERC20 feature
       _transformERC20()/transformERC20()
         _transformERC20()
           throws if taker's output token balance decreases:
     TypeError: outputToken.mint(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:438:74)
      at processImmediate (node:internal/timers:505:21)

  138) TransformERC20 feature
       _transformERC20()/transformERC20()
         _transformERC20()
           can call multiple transformers:
     TypeError: outputToken.mint(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:471:74)
      at processImmediate (node:internal/timers:505:21)

  139) TransformERC20 feature
       _transformERC20()/transformERC20()
         _transformERC20()
           fails with invalid transformer nonce:
     TypeError: outputToken.mint(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:529:74)
      at processImmediate (node:internal/timers:505:21)

  140) TransformERC20 feature
       _transformERC20()/transformERC20()
         _transformERC20()
           can sell entire taker balance:
     TypeError: inputToken.mint(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:558:72)
      at processImmediate (node:internal/timers:505:21)

  141) TransformERC20 feature
       _transformERC20()/transformERC20()
         _transformERC20()
           can sell entire taker balance with ETH (but not really):
     TypeError: inputToken.mint(...) is not a function
      at Context.<anonymous> (test/features/transform_erc20_test.ts:595:63)
      at processImmediate (node:internal/timers:505:21)

  142) Initial migration
       Ownable feature
         "before all" hook for "has the correct owner":
     TypeError: wrappers_1.IOwnableFeatureContract is not a constructor
      at Context.<anonymous> (test/initial_migration_test.ts:90:23)

  143) Initial migration
       SimpleFunctionRegistry feature
         "before all" hook for "_extendSelf() is deregistered":
     ReferenceError: SimpleFunctionRegistryFeatureContract is not defined
      at Context.<anonymous> (test/initial_migration_test.ts:103:13)
      at processImmediate (node:internal/timers:505:21)



